cd C:\library-app
.\.venv\Scripts\activate


pip install flask qrcode[pil] pymysql


python app.py


pip install APScheduler



$env:SMTP_HOST = "smtp.gmail.com"             # Gmail SMTP server
$env:SMTP_PORT = "587"                        # Gmail SMTP port for TLS
$env:SMTP_USER = "isulibrary66@gmail.com"     # Your Gmail email
$env:SMTP_PASS = "jxlo titm azos xcez"        # Your Gmail App Password
$env:MAIL_FROM = "Library <isulibrary66@gmail.com>"  # From email (same Gmail)


@app.route('/index')
@admin_required  # <--- PROTECTS THE ROUTE
def index():
    return render_template('index.html')

@app.route('/backup')
@admin_required
def backup_page():
    # ... (rest of code)

@app.route('/books')
@admin_required
def books_list():
    # ... (rest of code)

@app.route('/transaction')
@admin_required
def transaction_page():
    # ... (rest of code)

@app.route('/payment')
@admin_required
def payment_page():
    # ... (rest of code)
    
@app.route('/reports/transactions')
@admin_required
def reports_transactions():
    # ... (rest of code)



@app.route('/student/dashboard')
@login_required  # <--- Requires ANY login (Admin or Student)
def student_dashboard():


@app.route('/students/details/<student_number>')
@login_required
def student_details(student_number):



    git commit -m "Merge remote changes"




    # ========================================================
# SECURITY DECORATORS
# ========================================================

def login_required(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if 'role' not in session:
            return redirect(url_for('login'))
        return f(*args, **kwargs)
    return decorated_function

def admin_required(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if 'role' not in session:
            return redirect(url_for('login'))
        if session.get('role') != 'admin':
            # Option: Redirect to student dashboard if they are a student trying to access admin
            if session.get('role') == 'student':
                return redirect(url_for('student_dashboard'))
            return redirect(url_for('login'))
        return f(*args, **kwargs)
    return decorated_function